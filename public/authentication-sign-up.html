<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Silvera Philippines - Premium Online Shopping</title>

    <!--CSS Files-->
    <link href="assets/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.3/font/bootstrap-icons.css">
    <link href="assets/css/style.css" rel="stylesheet"/>
  </head>
  <body>

    <!--page loader-->
    <div class="loader-wrapper">
      <div class="d-flex justify-content-center align-items-center position-absolute top-50 start-50 translate-middle">
        <div class="spinner-border text-white" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
      </div>
    </div>
   <!--end loader-->

   <!--start wrapper-->
    <div class="wrapper">

      <!--start to header-->
      <header class="top-header fixed-top border-bottom d-flex align-items-center">
        <nav class="navbar navbar-expand w-100 p-0 gap-3 align-items-center">
            <div class="nav-button"><a href="/"><i class="bi bi-arrow-left"></i></a></div>
            <div class="account-sign-up">
              <h6 class="mb-0 fw-bold text-white">Sign Up</h6>
            </div>
        </nav>
       </header>
        <!--end to header-->

      <!--start to page content-->
       <div class="page-content">

         <div class="login-body">
            <h5 class="fw-bold">Getting Started</h5>
            <p class="mb-0">Create an account to continue your shopping</p>
            <form class="mt-4" id="signupForm">

              <div class="form-floating mb-3">
                <input type="text" class="form-control rounded-3" id="floatingInputName" placeholder="Enter Name" required>
                <label for="floatingInputName">Full Name</label>
              </div>

              <div class="form-floating mb-3">
                <input type="email" class="form-control rounded-3" id="floatingInputEmail" placeholder="name@example.com" required>
                <label for="floatingInputEmail">Email</label>
              </div>

              <div class="input-group mb-3" id="show_hide_password">
                <div class="form-floating flex-grow-1">
                  <input type="password" class="form-control rounded-3 border-end-0 rounded-end-0" id="floatingInputPassword" placeholder="Enter Password" required>
                  <label for="floatingInputPassword">Password</label>
                </div>
                <span class="input-group-text bg-transparent rounded-3 rounded-start-0"><i class="bi bi-eye-slash"></i></span>
              </div>

              <div class="mb-3">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="flexCheckDefault" required>
                  <label class="form-check-label" for="flexCheckDefault">
                    I agree to Terms and Conditions
                  </label>
                </div>
              </div>

              <div class="mb-0 d-grid">
                <button type="submit" class="btn btn-dark btn-ecomm rounded-3" id="signupBtn">Sign Up</button>
              </div>
              <div id="errorMessage" class="alert alert-danger mt-3 d-none" role="alert"></div>
            </form>
         </div>

       </div>
     <!--end to page content-->


     <!--start to footer-->
    <footer class="page-footer fixed-bottom border-top d-flex align-items-center justify-content-center">
      <p class="mb-0 rounded-0">Already have an account? <a href="authentication-log-in.html" class="text-danger">Log In</a></p>
    </footer>
    <!--end to footer-->

    </div>
   <!--end wrapper-->


    <!--JS Files-->
    <script src="assets/js/bootstrap.bundle.min.js"></script>

    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/show-hide-password.js"></script>
    <script src="assets/js/loader.js"></script>
<script src="assets/js/shared-utilities.js"></script>

    <script>
      // Registration Form Handler
      const signupForm = document.getElementById('signupForm');
      const signupBtn = document.getElementById('signupBtn');
      const errorMessage = document.getElementById('errorMessage');
      const nameInput = document.getElementById('floatingInputName');
      const emailInput = document.getElementById('floatingInputEmail');
      const passwordInput = document.getElementById('floatingInputPassword');

      signupForm.addEventListener('submit', async (e) => {
        e.preventDefault();

        const name = nameInput.value.trim();
        const email = emailInput.value.trim();
        const password = passwordInput.value;

        // Validate inputs
        if (!name) {
          showError('Please enter your full name');
          return;
        }

        if (!email) {
          showError('Please enter your email address');
          return;
        }

        if (!password || password.length < 6) {
          showError('Password must be at least 6 characters long');
          return;
        }

        // Show loading state
        signupBtn.disabled = true;
        signupBtn.innerHTML = 'Creating Account...';
        errorMessage.classList.add('d-none');

        try {
          const response = await fetch('/api/auth/register', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json'
            },
            body: JSON.stringify({ name, email, password })
          });

          const data = await response.json();

          if (!response.ok) {
            showError(data.error || 'Registration failed. Please try again.');
            signupBtn.disabled = false;
            signupBtn.innerHTML = 'Sign Up';
            return;
          }

          // Store auth data
          localStorage.setItem('auth_token', data.token);
          localStorage.setItem('user', JSON.stringify(data.user));

          // Redirect to dashboard (customers go to home.html, admins go to admin-dashboard.html)
          if (data.user.role === 'admin') {
            window.location.href = '/admin-dashboard.html';
          } else {
            window.location.href = '/home.html';
          }
        } catch (error) {
          showError('Network error. Please check your connection and try again.');
          signupBtn.disabled = false;
          signupBtn.innerHTML = 'Sign Up';
        }
      });

      function showError(message) {
        errorMessage.textContent = message;
        errorMessage.classList.remove('d-none');
      }
    </script>




  </body>
<script>'undefined'=== typeof _trfq || (window._trfq = []);'undefined'=== typeof _trfd && (window._trfd=[]),_trfd.push({'tccl.baseHost':'secureserver.net'},{'ap':'cpsh-oh'},{'server':'p3plzcpnl509132'},{'dcenter':'p3'},{'cp_id':'10399385'},{'cp_cl':'8'}) // Monitoring performance to make your website faster. If you want to opt-out, please contact web hosting support.</script><script src='https://img1.wsimg.com/traffic-assets/js/tccl.min.js'></script></html>